"use client";
import { Coffee } from "lucide-react";
import { Input } from "@/components/ui/input";
import { zodResolver } from "@hookform/resolvers/zod";
import { useForm } from "react-hook-form";
import { z } from "zod";
import { Button } from "@/components/ui/button";
import {
  Form,
  FormControl,
  FormDescription,
  FormField,
  FormItem,
  FormLabel,
  FormMessage,
} from "@/components/ui/form";

const formSecondrSchema = z.object({
  Username: z
<<<<<<< HEAD
    .string({
      required_error: "Name is required",
      invalid_type_error: "Name must be a string",
    })
    .min(5, { message: "Must be 5 or more characters long" })
    .max(50)
    .refine((name) => /^[A-Z]/.test(name), {
      message: "First letter must be uppercase",
    }),
=======
    .string()
    .min(5, { message: "Must be 5 or more characters long" })
    .max(50),
>>>>>>> main
});

interface StepOneProps {
  handleNext: () => void;
  handleBack: () => void;
}

export function StepOne({ handleNext, handleBack }: StepOneProps) {
  const form2 = useForm<z.infer<typeof formSecondrSchema>>({
    resolver: zodResolver(formSecondrSchema),
    defaultValues: {
      Username: "",
    },
  });

  function onSubmit(values: z.infer<typeof formSecondrSchema>) {
    console.log(values);
    handleNext(); // Move this here to ensure it triggers after form validation
  }

  return (
    <div className="font-[family-name:var(--font-inter)] flex">
      <div className="h-screen w-1/2 bg-[#FBBF24]">
        <div className="flex items-center gap-2 pt-12 pl-32">
          <Coffee size={30} />
          <p className="text-[#09090B] text-[21px] font-bold">Buy Me Coffee</p>
        </div>
        <div className="rounded-full items-center justify-center mx-auto mt-[200px] gap-5 flex flex-col">
          <div className="bg-[#D9770680] rounded-full h-[240px] w-[240px] flex items-center justify-center">
            <svg
<<<<<<< HEAD
              width="241"
              height="240"
              viewBox="0 0 241 240"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_1_5019"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="241"
                height="240"
              >
                <circle cx="120.5" cy="120" r="120" fill="white" />
              </mask>
              <g mask="url(#mask0_1_5019)">
                <circle
                  opacity="0.5"
                  cx="120.5"
                  cy="120"
                  r="120"
                  fill="#D97706"
                />
                <path
                  d="M61.0874 116.025C61.5468 113.78 63.2354 111.987 65.4492 111.394L147.841 89.3173C150.054 88.7241 152.413 89.4326 153.934 91.1473L164.918 103.534L57.7684 132.244L61.0874 116.025Z"
                  fill="white"
                />
                <path
                  d="M51.9952 137.967C51.4186 135.815 52.6956 133.603 54.8475 133.026L167.841 102.75C169.993 102.173 172.205 103.45 172.782 105.602L175.914 117.291C176.49 119.443 175.213 121.655 173.061 122.231L60.0676 152.508C57.9157 153.085 55.7039 151.808 55.1273 149.656L51.9952 137.967Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M161.368 125.363L71.7489 149.376L111.963 250.311L177.008 232.882L161.368 125.363ZM69.6609 141.584C64.9955 142.834 62.4666 147.875 64.2543 152.362L104.469 253.297C105.983 257.097 110.101 259.162 114.051 258.104L179.096 240.675C183.047 239.616 185.581 235.769 184.992 231.721L169.351 124.202C168.656 119.422 163.945 116.32 159.28 117.57L69.6609 141.584Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M93.1942 63.7292C94.5467 65.4994 94.208 68.0309 92.4378 69.3834C91.9237 69.7762 91.0331 70.9779 90.9165 72.1915C90.8693 72.6832 90.9432 73.1938 91.2755 73.767C91.6268 74.3729 92.3929 75.2591 94.0683 76.2264C96.5561 77.6628 98.2799 79.5387 99.2115 81.7492C100.128 83.9228 100.123 86.0517 99.814 87.77C99.5081 89.4695 98.8833 90.9016 98.3753 91.8689C98.1152 92.364 97.8696 92.7679 97.6808 93.0592C97.586 93.2056 97.5042 93.3255 97.4406 93.4163C97.4087 93.4617 97.3812 93.5001 97.3588 93.531L97.329 93.5718L97.317 93.588L97.3117 93.5951L97.3093 93.5983C97.3081 93.5999 97.307 93.6014 94.0788 91.1827L97.307 93.6014C95.9712 95.3843 93.443 95.7467 91.6601 94.4109C89.8861 93.0818 89.5184 90.5722 90.8306 88.7909C90.8316 88.7895 90.8328 88.7878 90.8343 88.7856C90.8459 88.7691 90.8725 88.7305 90.9104 88.672C90.987 88.5538 91.1041 88.3629 91.2329 88.1177C91.5026 87.6041 91.7603 86.9727 91.8739 86.3413C91.9841 85.7286 91.936 85.2593 91.7772 84.8824C91.6339 84.5425 91.2517 83.9159 90.0344 83.213C87.4456 81.7183 85.5149 79.9154 84.2963 77.8137C83.0587 75.6793 82.6896 73.464 82.8859 71.4202C83.2563 67.563 85.5986 64.4559 87.54 62.9727C89.3102 61.6202 91.8417 61.9589 93.1942 63.7292Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M108.581 48.1315C109.933 49.9018 109.595 52.4333 107.824 53.7858C107.31 54.1785 106.42 55.3802 106.303 56.5939C106.256 57.0855 106.33 57.5962 106.662 58.1693C107.014 58.7752 107.78 59.6614 109.455 60.6287C111.943 62.0652 113.667 63.9411 114.598 66.1516C115.514 68.3251 115.51 70.4541 115.201 72.1724C114.895 73.8719 114.27 75.304 113.762 76.2712C113.502 76.7664 113.256 77.1702 113.068 77.4616C112.973 77.6079 112.891 77.7278 112.827 77.8186C112.795 77.8641 112.768 77.9024 112.746 77.9334L112.716 77.9742L112.704 77.9904L112.698 77.9974L112.696 78.0007C112.695 78.0022 112.694 78.0037 109.466 75.585L112.694 78.0037C111.358 79.7866 108.83 80.149 107.047 78.8132C105.273 77.4841 104.905 74.9746 106.217 73.1932C106.218 73.1919 106.22 73.1901 106.221 73.188C106.233 73.1715 106.259 73.1328 106.297 73.0744C106.374 72.9561 106.491 72.7652 106.62 72.52C106.889 72.0064 107.147 71.375 107.261 70.7436C107.371 70.131 107.323 69.6616 107.164 69.2847C107.021 68.9448 106.638 68.3182 105.421 67.6154C102.832 66.1207 100.902 64.3177 99.683 62.216C98.4454 60.0816 98.0763 57.8663 98.2726 55.8226C98.6431 51.9654 100.985 48.8582 102.927 47.3751C104.697 46.0226 107.228 46.3612 108.581 48.1315Z"
                  fill="white"
                />
              </g>
=======
              width="175"
              height="207"
              viewBox="0 0 175 207"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M29.0874 83.0255C29.5468 80.7802 31.2354 78.9872 33.4492 78.394L115.841 56.3173C118.054 55.7241 120.413 56.4326 121.934 58.1473L132.918 70.5339L25.7684 99.2445L29.0874 83.0255Z"
                fill="white"
              />
              <path
                d="M19.9952 104.967C19.4186 102.815 20.6956 100.603 22.8475 100.026L135.841 69.7497C137.993 69.1731 140.205 70.4501 140.782 72.602L143.914 84.291C144.49 86.4429 143.213 88.6548 141.061 89.2314L28.0676 119.508C25.9157 120.085 23.7039 118.808 23.1273 116.656L19.9952 104.967Z"
                fill="white"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M129.368 92.363L39.7489 116.376L79.9634 217.311L145.008 199.882L129.368 92.363ZM37.6609 108.584C32.9955 109.834 30.4666 114.875 32.2543 119.362L72.4688 220.297C73.9827 224.097 78.1006 226.162 82.0514 225.104L147.096 207.675C151.047 206.616 153.581 202.769 152.992 198.721L137.351 91.2016C136.656 86.422 131.945 83.3202 127.28 84.5703L37.6609 108.584Z"
                fill="white"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M61.1942 30.729C62.5467 32.4993 62.208 35.0308 60.4378 36.3833C59.9237 36.7761 59.0331 37.9778 58.9165 39.1914C58.8693 39.683 58.9432 40.1937 59.2755 40.7669C59.6268 41.3727 60.3929 42.259 62.0683 43.2263C64.5561 44.6627 66.2799 46.5386 67.2115 48.7491C68.1275 50.9227 68.1231 53.0516 67.814 54.7699C67.5081 56.4694 66.8833 57.9015 66.3753 58.8688C66.1152 59.3639 65.8696 59.7678 65.6808 60.0591C65.586 60.2055 65.5042 60.3253 65.4406 60.4162C65.4087 60.4616 65.3812 60.5 65.3588 60.5309L65.329 60.5717L65.317 60.5879L65.3117 60.5949L65.3093 60.5982C65.3081 60.5997 65.307 60.6013 62.0788 58.1826L65.307 60.6013C63.9712 62.3842 61.443 62.7466 59.6601 61.4108C57.8861 60.0817 57.5184 57.5721 58.8306 55.7908C58.8316 55.7894 58.8328 55.7877 58.8343 55.7855C58.8459 55.769 58.8725 55.7303 58.9104 55.6719C58.987 55.5536 59.1041 55.3628 59.2329 55.1175C59.5026 54.604 59.7603 53.9726 59.8739 53.3412C59.9841 52.7285 59.936 52.2591 59.7772 51.8823C59.6339 51.5423 59.2517 50.9158 58.0344 50.2129C55.4456 48.7182 53.5149 46.9152 52.2963 44.8136C51.0587 42.6791 50.6896 40.4639 50.8859 38.4201C51.2563 34.5629 53.5986 31.4558 55.54 29.9726C57.3102 28.6201 59.8417 28.9588 61.1942 30.729Z"
                fill="white"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M76.5809 15.1314C77.9334 16.9016 77.5948 19.4331 75.8245 20.7856C75.3104 21.1784 74.4198 22.3801 74.3032 23.5937C74.256 24.0854 74.3299 24.5961 74.6622 25.1692C75.0135 25.7751 75.7796 26.6613 77.455 27.6286C79.9429 29.065 81.6666 30.941 82.5982 33.1514C83.5143 35.325 83.5099 37.4539 83.2007 39.1722C82.8949 40.8718 82.27 42.3039 81.762 43.2711C81.5019 43.7662 81.2563 44.1701 81.0675 44.4615C80.9727 44.6078 80.8909 44.7277 80.8273 44.8185C80.7954 44.864 80.768 44.9023 80.7455 44.9332L80.7157 44.9741L80.7037 44.9903L80.6984 44.9973L80.696 45.0005C80.6948 45.0021 80.6937 45.0036 77.4655 42.5849L80.6937 45.0036C79.3579 46.7865 76.8297 47.1489 75.0468 45.8131C73.2729 44.484 72.9052 41.9744 74.2173 40.1931C74.2183 40.1918 74.2195 40.19 74.221 40.1879C74.2326 40.1713 74.2593 40.1327 74.2971 40.0742C74.3738 39.956 74.4908 39.7651 74.6196 39.5199C74.8893 39.0063 75.147 38.3749 75.2606 37.7435C75.3709 37.1309 75.3227 36.6615 75.1639 36.2846C75.0206 35.9447 74.6384 35.3181 73.4211 34.6153C70.8323 33.1206 68.9016 31.3176 67.683 29.2159C66.4454 27.0815 66.0763 24.8662 66.2726 22.8225C66.6431 18.9653 68.9854 15.8581 70.9267 14.3749C72.6969 13.0224 75.2284 13.3611 76.5809 15.1314Z"
                fill="white"
              />
>>>>>>> main
            </svg>
          </div>
          <p className="text-[24px] font-bold text-[#09090B]">
            Fund your creative work
          </p>
          <p className="text-[16px] font-normal text-[#09090B] max-w-[450px] text-center">
            Accept support. Start a membership. Setup a shop. It's easier than
            you think.
          </p>
        </div>
      </div>
      <div className="h-screen w-1/2 bg-[#F9FAFB]">
        <div className="pt-10">
<<<<<<< HEAD
          <button className="w-[83px] h-[45px] border bg-black rounded-md text-white ml-[1000px]">
=======
          <button className="w-[83px] h-[45px] border bg-[#F4F4F5] rounded-md text-[#18181B] ml-[1000px]">
>>>>>>> main
            Log in
          </button>
        </div>
        <div className="flex flex-col items-center pt-20">
          <div className="flex flex-col gap-8 mt-48">
            <div>
              <p className="text-[#09090B] text-[32px] font-semibold">
                Create Your Account
              </p>
              <p className="text-[#71717A] text-[18px] font-medium">
                Choose a username for your page
              </p>
            </div>
            <div className="flex flex-col gap-2">
              <Form {...form2}>
                <form
                  onSubmit={form2.handleSubmit(onSubmit)}
                  className="space-y-8"
                >
                  <FormField
                    control={form2.control}
                    name="Username"
                    render={({ field }) => (
                      <FormItem>
                        <FormLabel>Username</FormLabel>
                        <FormControl>
                          <Input placeholder="Enter username here" {...field} />
                        </FormControl>
                        <FormDescription></FormDescription>
                        <FormMessage />
                      </FormItem>
                    )}
                  />
                  <Button
                    type="submit"
                    className="border bg-[#E4E4E7] w-[350px] py-2 rounded-md text-[#FAFAFA]"
                  >
                    Continue
                  </Button>
                </form>
              </Form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
